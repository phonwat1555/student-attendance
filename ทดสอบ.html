<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö 20 ‡∏Ç‡πâ‡∏≠</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Sarabun', sans-serif; background: #f8f9fa; padding: 20px; margin: 0; }
    h1 { text-align: center; color: #2f3e46; margin-bottom: 10px; }
    form { max-width: 800px; margin: 0 auto; background: #fff; padding: 30px; border-radius: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.05); }
    .input-group { margin-bottom: 20px; }
    .question-title { font-weight: bold; margin-bottom: 10px; }
    label { display: block; margin-bottom: 8px; cursor: pointer; border-radius: 8px; padding: 6px 12px; transition: 0.2s; }
    label:hover { background: #f1f5f9; }
    button { width: 100%; padding: 12px; background: #457b9d; color: #fff; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; margin-top: 20px; }
    button:hover { background: #1d3557; }
    #result { margin-top: 30px; text-align: center; font-size: 18px; padding: 20px; background: #e9f5e9; border-radius: 12px; }
  </style>
</head>
<body>
  <h1>‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</h1>
  <form id="quizForm">
    <div class="input-group">
      <label for="studentId">‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
      <input type="text" id="studentId" name="studentId" required style="width:100%; padding:10px; border-radius: 8px; border: 1px solid #ccc;">
    </div>
    <div id="quizContainer"></div>
    <button type="submit">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
  </form>
  <div id="result"></div>

  <script>
    const questionBank = [
      { q: "1+1 ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?", a: ["1", "2", "3"], correct: "2" },
      { q: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÉ‡∏î?", a: ["‡∏•‡∏≤‡∏ß", "‡πÑ‡∏ó‡∏¢", "‡∏°‡∏≤‡πÄ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢"], correct: "‡πÑ‡∏ó‡∏¢" },
      { q: "HTML ‡∏¢‡πà‡∏≠‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?", a: ["HyperText Markup Language", "Home Tool Markup", "Hyperlink Text Module"], correct: "HyperText Markup Language" },
      { q: "CSS ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?", a: ["‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á", "‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤", "‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå"], correct: "‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤" },
      { q: "3 x 4 = ?", a: ["7", "12", "14"], correct: "12" },
      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö 20 ‡∏Ç‡πâ‡∏≠
      { q: "‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡∏°‡∏µ‡∏™‡∏µ‡∏≠‡∏∞‡πÑ‡∏£?", a: ["‡πÅ‡∏î‡∏á", "‡∏°‡πà‡∏ß‡∏á", "‡∏î‡∏≥"], correct: "‡πÅ‡∏î‡∏á" },
      { q: "‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏†‡∏≤‡∏Ñ?", a: ["4", "5", "6"], correct: "6" },
      { q: "‡∏†‡∏≤‡∏©‡∏≤‡πÉ‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ß‡πá‡∏ö?", a: ["PHP", "Python", "Pascal"], correct: "PHP" },
      { q: "‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ 366 ‡∏ß‡∏±‡∏ô ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤?", a: ["‡∏õ‡∏µ‡∏õ‡∏Å‡∏ï‡∏¥", "‡∏õ‡∏µ‡∏≠‡∏ò‡∏¥‡∏Å‡∏™‡∏∏‡∏£‡∏ó‡∏¥‡∏ô", "‡∏õ‡∏µ‡∏û‡∏¥‡πÄ‡∏®‡∏©"], correct: "‡∏õ‡∏µ‡∏≠‡∏ò‡∏¥‡∏Å‡∏™‡∏∏‡∏£‡∏ó‡∏¥‡∏ô" },
      { q: "Google ‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö?", a: ["‡∏ô‡πâ‡∏≥‡∏´‡∏≠‡∏°", "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ", "‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå"], correct: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ" },
      { q: "‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?", a: ["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô", "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô", "‡πÅ‡∏™‡∏á"], correct: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô" },
      { q: "‡∏≠‡∏∞‡πÑ‡∏£‡∏Ñ‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£?", a: ["Windows", "Safari", "Chrome"], correct: "Windows" },
      { q: "‡∏õ‡∏•‡∏≤‡∏ó‡∏∞‡πÄ‡∏•‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?", a: ["‡∏°‡∏µ‡πÄ‡∏Å‡∏•‡πá‡∏î", "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏´‡∏á‡∏∑‡∏≠‡∏Å", "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏Å‡∏•‡πá‡∏î"], correct: "‡∏°‡∏µ‡πÄ‡∏Å‡∏•‡πá‡∏î" },
      { q: "2 + 5 = ?", a: ["6", "7", "9"], correct: "7" },
      { q: "PHP ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", a: ["Frontend", "Backend", "Game Engine"], correct: "Backend" },
      { q: "‡∏ò‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏ó‡∏¢‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡∏µ‡πà‡∏™‡∏µ?", a: ["2", "3", "4"], correct: "3" },
      { q: "‡∏Å.‡πÑ‡∏Å‡πà ‡∏≠‡∏¢‡∏π‡πà‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏î‡πÉ‡∏ô‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢?", a: ["1", "2", "3"], correct: "1" },
      { q: "3 + 6 = ?", a: ["8", "9", "10"], correct: "9" },
      { q: "‡πÅ‡∏°‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå?", a: ["‡πÄ‡∏•‡∏∑‡πâ‡∏≠‡∏¢‡∏Ñ‡∏•‡∏≤‡∏ô", "‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏°", "‡πÅ‡∏°‡∏•‡∏á"], correct: "‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏°" },
      { q: "Facebook ‡∏Ñ‡∏∑‡∏≠?", a: ["‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå", "‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå", "‡πÄ‡∏ß‡πá‡∏ö‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á"], correct: "‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå" }
    ];

    const totalScore = 20;
    let selectedQuestions = [];
    let startTime = Date.now();

    function shuffle(array) {
      return [...array].sort(() => Math.random() - 0.5);
    }

    function renderQuiz() {
      selectedQuestions = shuffle(questionBank).slice(0, 20);
      const container = document.getElementById("quizContainer");
      selectedQuestions.forEach((q, index) => {
        const html = `
          <div class="question">
            <div class="question-title">${index + 1}. ${q.q}</div>
            ${q.a.map(ans => `<label><input type="radio" name="q${index}" value="${ans}" required> ${ans}</label>`).join("")}
          </div>
        `;
        container.innerHTML += html;
      });
    }

    renderQuiz();

    document.getElementById("quizForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const studentId = document.getElementById("studentId").value.trim();
      if (!studentId) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô");

      let score = 0;
      selectedQuestions.forEach((q, i) => {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (selected && selected.value === q.correct) score++;
      });

      const points = (score / 20) * totalScore;
      const timeUsed = Math.floor((Date.now() - startTime) / 1000);
      const timeText = `${Math.floor(timeUsed / 60)} ‡∏ô‡∏≤‡∏ó‡∏µ ${timeUsed % 60} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;

      document.getElementById("result").innerHTML = `
        ‚úÖ ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô <strong>${points.toFixed(2)} / ${totalScore}</strong><br/>
        üïí ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤: <strong>${timeText}</strong>
      `;

      // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ Google Sheet
      fetch("https://script.google.com/macros/s/PASTE_YOUR_DEPLOYED_URL_HERE/exec", {
        method: "POST",
        body: new URLSearchParams({
          studentId: studentId,
          score: points.toFixed(2),
          timeUsed: timeUsed
        })
      });
    });
  </script>
</body>
</html>
